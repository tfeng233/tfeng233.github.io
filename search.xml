<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hive安装</title>
      <link href="/Tfeng233/2021/08/31/hive-an-zhuang/"/>
      <url>/Tfeng233/2021/08/31/hive-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h1 id="hive安装与配置"><a href="#hive安装与配置" class="headerlink" title="hive安装与配置"></a>hive安装与配置</h1><p>查看 IP ：<code>ip add</code>  ，记住ip后面有作用</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC1%E9%A1%B5-2.PNG"></p><h3 id="一、在hadoop上创建hive所需要的目录"><a href="#一、在hadoop上创建hive所需要的目录" class="headerlink" title="一、在hadoop上创建hive所需要的目录"></a>一、在hadoop上创建hive所需要的目录</h3><p>确保hadoop开启，可通过jps查看</p><p><code>jps</code></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC1%E9%A1%B5-1.PNG"></p><p>创建文件</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">// 创建文件hadoop fs -mkdir -p /hive/datahadoop fs -mkdir -p /hive/logshadoop fs -mkdir -p /hive/temp//赋予权限hadoop fs -chmod +w /hive/datahadoop fs -chmod +w /hive/logshadoop fs -chmod +w /hive/temp//查看hadoop fs -ls /hive/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC2%E9%A1%B5-4.PNG"></p><hr><h3 id="二、准备MySQL"><a href="#二、准备MySQL" class="headerlink" title="二、准备MySQL"></a>二、准备MySQL</h3><p>hive需要与MySQL进行连接，保持数据库表的持久化</p><p>1.创建hive数据库(metastore)与hive用户</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">user</span> hive<span class="token variable">@'%'</span> identified <span class="token keyword">by</span> <span class="token string">'密码'</span><span class="token punctuation">;</span><span class="token keyword">create</span> <span class="token keyword">database</span> metastore<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC2%E9%A1%B5-3.PNG"></p><p>2.hive用户权限设置</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> hive<span class="token variable">@'%'</span><span class="token punctuation">;</span><span class="token comment">//全部权限</span>flush <span class="token keyword">privileges</span><span class="token punctuation">;</span><span class="token comment">//刷新</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>3.配置hive与mysql的连接</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC3%E9%A1%B5-8.PNG"></p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">cp mysql-connector-java-8.0.20/mysql-connector-java-8.0.20.jar $HIVE_HOME/lib/ll -h /usr/local/hive-2.3.7/lib/mysql-connector-java-8.0.20.jar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC3%E9%A1%B5-7.PNG"></p><hr><h3 id="三、安装hive"><a href="#三、安装hive" class="headerlink" title="三、安装hive"></a>三、安装hive</h3><p>进入存放hive安装包的目录（我的在/opt下）</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC3%E9%A1%B5-6.PNG"></p><p>将hive解压</p><p><code>tar -zxvf apache-hive-2.3.7-bin.tar.gz -C /usr/local/</code> -C 是解压到指定位置（/usr/local/）</p><p>进入你的解压位置：<code>cd /usr/loca/</code></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC3%E9%A1%B5-5.PNG"></p><p>重命名文件：<code>mv apache-hive-2.3.7-bin/ hive-2.3.7</code></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC4%E9%A1%B5-13.PNG"></p><p>进入hive-2.3.7：<code>cd hive-2.3.7</code>并使用<code>pwd</code>命令获取当前路径</p><p>将hive写进环境变量<code>/etc/profile</code></p><p><code>vim /etc/profile</code></p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux"># hiveexport HIVE_HOME=/usr/local/hive-2.3.7export PATH=$PATH:$HIVE_HOME/sbin:$HIVE_HOME/bin::$PATH<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC4%E9%A1%B5-11.PNG"></p><p>刷新环境变量：<code>source  /etc/profile</code></p><p>执行<code>hive --version</code> 有版本显示则表示安装成功</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC4%E9%A1%B5-10.PNG"></p><p>在$HIVE_HOME目录下创建doc、log文件夹</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC4%E9%A1%B5-9.PNG"></p><hr><h3 id="四、配置文件"><a href="#四、配置文件" class="headerlink" title="四、配置文件"></a>四、配置文件</h3><p>进入hive conf目录：<code>cd $HIVE_HOME/conf</code></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC5%E9%A1%B5-17.PNG"></p><p>打印hadoop文件位置<code>echo $HADOOP_HOME</code> </p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC5%E9%A1%B5-16.PNG"></p><p><strong>配置hive-env.sh</strong></p><p>以模板复制一份<code>cp hive-env.sh.template hive-env.sh</code></p><p><code>vim hive-env.sh</code></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC5%E9%A1%B5-15.PNG"></p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">HADOOP_HOME=/usr/local/hadoop-2.7.7 //hadoop安装目录<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC5%E9%A1%B5-14.PNG"></p><p><strong>配置hive-site.xml</strong></p><p><code>vim hive-site.xml</code></p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>                <span class="token comment">&lt;!--该目录由Hive用来存储查询的不同map / reduce阶段的计划以及存储这些阶段的中间输出 --&gt;</span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hive.exec.scratchdir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/usr/local/hive-2.3.7/doc/tmp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>                <span class="token comment">&lt;!--本地数据仓库目录--&gt;</span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hive.metastore.warehouse.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/usr/local/hive-2.3.7/doc/warehouse<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>                <span class="token comment">&lt;!--hive运行日志位置--&gt;</span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hive.querylog.location<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/usr/local/hive-2.3.7/doc/logs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>                <span class="token comment">&lt;!-- 配置 MySQL 数据库连接信息 --&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>javax.jdo.option.ConnectionURL<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>jdbc:mysql://ip地址:3306/metastore<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>javax.jdo.option.ConnectionDriverName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>com.mysql.cj.jdbc.Driver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>                <span class="token comment">&lt;!--mysql中HIVE用户--&gt;</span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>javax.jdo.option.ConnectionUserName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hive<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>                <span class="token comment">&lt;!--mysql中HIVE密码--&gt;</span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>javax.jdo.option.ConnectionPassword<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>密码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>hive元数据库初始化</strong></p><p>回到hive的bin目录下</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC6%E9%A1%B5-19.PNG"></p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">schematool -dbType mysql -initSchema //初始化命令<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC6%E9%A1%B5-18.PNG"></p><p>测验</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/%E7%AC%AC7%E9%A1%B5-20.PNG"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 大数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hadoop完全分布式搭建</title>
      <link href="/Tfeng233/2021/08/31/hadoop-wan-quan-fen-bu-shi-da-jian/"/>
      <url>/Tfeng233/2021/08/31/hadoop-wan-quan-fen-bu-shi-da-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="Hadoop的三种模式"><a href="#Hadoop的三种模式" class="headerlink" title="Hadoop的三种模式"></a>Hadoop的三种模式</h2><p>三种模式：本地 、伪分布式、全分布式、高可用HA（重点）</p><blockquote><p>思考：伪分布式模式存在的问题？</p><p>​            模拟集群  实质上在一个节点上面的操作</p><p>全分布式：NN DN  SNN  用多台节点（服务器）来运行的，并没有用高可用HA</p><p>高可用：HA</p></blockquote><h1 id="任务描述"><a href="#任务描述" class="headerlink" title="任务描述"></a>任务描述</h1><p>大数据集群Hadoop全分布式搭建</p><h1 id="任务实现"><a href="#任务实现" class="headerlink" title="任务实现"></a>任务实现</h1><h2 id="全分布式大数据集群规划"><a href="#全分布式大数据集群规划" class="headerlink" title="全分布式大数据集群规划"></a>全分布式大数据集群规划</h2><h3 id="集群拓扑"><a href="#集群拓扑" class="headerlink" title="集群拓扑"></a>集群拓扑</h3><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589953548482.png" alt="1589953548482"></p><h3 id="主机-角色-规划"><a href="#主机-角色-规划" class="headerlink" title="主机(角色)规划"></a>主机(角色)规划</h3><table><thead><tr><th><strong>节点名称</strong></th><th>IP</th><th><strong>namenode</strong></th><th><strong>datanode</strong></th><th><strong>SecondaryNameNode</strong></th></tr></thead><tbody><tr><td>node01</td><td>192.168.32.2</td><td>*</td><td>*</td><td></td></tr><tr><td>node02</td><td>192.168.32.3</td><td></td><td>*</td><td>*</td></tr><tr><td>node03</td><td>192.168.32.4</td><td></td><td>*</td><td></td></tr></tbody></table><p>准备三个虚拟机,三个虚拟机分别设置好对应的网络ip配置</p><h3 id="软件规划"><a href="#软件规划" class="headerlink" title="软件规划"></a>软件规划</h3><table><thead><tr><th>软件</th><th>版本</th><th>安装节点</th><th>说明</th></tr></thead><tbody><tr><td>VMWARE</td><td></td><td></td><td></td></tr><tr><td>CentOS</td><td>7</td><td>*</td><td>Linux操作系统</td></tr><tr><td>JDK</td><td>1.8</td><td>*</td><td>Hadoop基于Java，所以必须提前安装JDK</td></tr><tr><td>Hadoop</td><td>2.7.7</td><td>*</td><td>运行处理大数据的软件平台</td></tr></tbody></table><h3 id="软件目录规划"><a href="#软件目录规划" class="headerlink" title="软件目录规划"></a>软件目录规划</h3><table><thead><tr><th>目录名称</th><th>绝对路径</th></tr></thead><tbody><tr><td>所有软件包存放目录</td><td>/usr/tools</td></tr><tr><td>大数据软件安装目录</td><td>/usr/local/*</td></tr></tbody></table><h2 id="虚拟机安装"><a href="#虚拟机安装" class="headerlink" title="虚拟机安装"></a>虚拟机安装</h2><p><img src="_posts/https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955109191.png" alt="1589955109191"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955120259.png" alt="1589955120259"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955167199.png" alt="1589955167199"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955183882.png" alt="1589955183882"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955200679.png" alt="1589955200679"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955210138.png" alt="1589955210138"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955216696.png" alt="1589955216696"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955222045.png" alt="1589955222045"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955232869.png" alt="1589955232869"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955239722.png" alt="1589955239722"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955252135.png" alt="1589955252135"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955258196.png" alt="1589955258196"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955262315.png" alt="1589955262315"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955266780.png" alt="1589955266780"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955273074.png" alt="1589955273074">Linux操作系统安装</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955299950.png" alt="1589955299950"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955308231.png" alt="1589955308231"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955316201.png" alt="1589955316201"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955327495.png" alt="1589955327495"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955332876.png" alt="1589955332876"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955340503.png" alt="1589955340503"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955383743.png" alt="1589955383743"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955398635.png" alt="1589955398635"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955404694.png" alt="1589955404694"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955412625.png" alt="1589955412625"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955421739.png" alt="1589955421739"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955430856.png" alt="1589955430856"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955436104.png" alt="1589955436104"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589955441918.png" alt="1589955441918"></p><h2 id="虚拟机拍照"><a href="#虚拟机拍照" class="headerlink" title="虚拟机拍照"></a>虚拟机拍照</h2><ol><li>关闭虚拟机</li><li>拍照</li></ol><h2 id="虚拟机网络适配器设置"><a href="#虚拟机网络适配器设置" class="headerlink" title="虚拟机网络适配器设置"></a>虚拟机网络适配器设置</h2><h3 id="选择联网模式"><a href="#选择联网模式" class="headerlink" title="选择联网模式"></a>选择联网模式</h3><ol><li><p>桥接模式</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589957562935.png" alt="1589957562935"></p></li><li><p>Nat模式</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589957906167.png" alt="1589957906167"></p></li><li><p>仅主机模式</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589957938149.png" alt="1589957938149"></p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589958403997.png" alt="1589958403997"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589958441728.png" alt="1589958441728"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589958503178.png" alt="1589958503178"></p><h3 id="编辑虚拟网络"><a href="#编辑虚拟网络" class="headerlink" title="编辑虚拟网络"></a>编辑虚拟网络</h3><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589958814217.png" alt="1589958814217"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589958802571.png" alt="1589958802571">配置IP地址</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589959839006.png" alt="1589959839006"></p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">#修改BOOTPROTO=static #这里讲dhcp换成staticONBOOT=yes #将no换成yes#新增IPADDR=192.168.52.101 #静态IPGATEWAY=192.168.52.2 #默认网关NETMASK=255.255.255.0 #子网掩码DNS1=114.114.114.114 #DNS<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589962380018.png" alt="1589962380018"></p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">#重启网卡service network restartifconfig 或 ip addr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589960037089.png" alt="1589960037089">MobaXterm连接</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589961334828.png" alt="1589961334828"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1589962468160.png" alt="1589962468160"></p><h3 id="Linux安全机制"><a href="#Linux安全机制" class="headerlink" title="Linux安全机制"></a>Linux安全机制</h3><ol><li><p>关闭防火墙</p></li><li><p>关闭防火墙开机启动</p></li><li><p>修改SELinux配置文件</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@master ~]# systemctl status firewalld.service[root@master ~]# systemctl stop firewalld.service[root@master ~]# systemctl disable firewalld.service[root@master ~]# vi /etc/selinux/config<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305084355647.png" alt="image-20210305084355647"></p><h2 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h2><ol><li><p>创建一个存放软件的目录 </p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@localhost ~]# mkdir /usr/tools[root@localhost ~]# cd /usr/tools/[root@localhost tools]# pwd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305084553096.png" alt="image-20210305084553096"></p></li><li><p>上传jdk压缩包到/usr/tools目录下</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305084748788.png" alt="image-20210305084748788"></p></li><li><p>解压</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@localhost tools]# tar -zxvf jdk-8u221-linux-x64.tar.gz  -C /usr/local/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>设置环境变量</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590042543484.png" alt="1590042543484"></p><p>将如下配置添加至文件/etc/profile中，然后保存退出。</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">#javaexport JAVA_HOME=/usr/local/jdk1.8.0_221export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/libexport PATH=$JAVA_HOME/bin:$PATH<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305141301802.png" alt="image-20210305141301802"></p></li><li><p>让配置文件生效</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 java]# source /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>验证</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 java]# java -version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305085208531.png" alt="image-20210305085208531"></p><h2 id="再次拍照"><a href="#再次拍照" class="headerlink" title="再次拍照"></a>再次拍照</h2><ol><li>关机</li><li>拍照</li></ol><h2 id="集群复制"><a href="#集群复制" class="headerlink" title="集群复制"></a>集群复制</h2><h3 id="克隆节点"><a href="#克隆节点" class="headerlink" title="克隆节点"></a>克隆节点</h3><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590020909682.png" alt="1590020909682"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590020936092.png" alt="1590020936092"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590021035956.png" alt="1590021035956"></p><p>再重复此操作创建出Node02 node03</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590021155731.png" alt="1590021155731"></p><h3 id="配置IP"><a href="#配置IP" class="headerlink" title="配置IP"></a>配置IP</h3><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590021695079.png" alt="1590021695079"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590021665832.png" alt="1590021665832"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590021802827.png" alt="1590021802827"></p><p>其它2台对应修改</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590021970210.png" alt="1590021970210"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590021983803.png" alt="1590021983803"></p><h3 id="修改主机名"><a href="#修改主机名" class="headerlink" title="修改主机名"></a>修改主机名</h3><p>MobaXterm连上4台机器,修改主机名</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590022368029.png" alt="1590022368029"></p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">hostnamectl set-hostname node01<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">hostnamectl set-hostname node02<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">hostnamectl set-hostname node03<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590022542697.png" alt="1590022542697"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590022588900.png" alt="1590022588900"></p><h3 id="关机创建拍照"><a href="#关机创建拍照" class="headerlink" title="关机创建拍照"></a>关机创建拍照</h3><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590022896823.png" alt="1590022896823"></p><h2 id="Hadoop安装配置"><a href="#Hadoop安装配置" class="headerlink" title="Hadoop安装配置"></a>Hadoop安装配置</h2><h3 id="虚拟机IP映射"><a href="#虚拟机IP映射" class="headerlink" title="虚拟机IP映射"></a>虚拟机IP映射</h3><p>在node01上编辑 /etc/hosts，加入如下内容</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">192.168.52.101 node01192.168.52.102 node02192.168.52.103 node03<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="SSH免密登录"><a href="#SSH免密登录" class="headerlink" title="SSH免密登录"></a>SSH免密登录</h3><h4 id="所有机器依次执行"><a href="#所有机器依次执行" class="headerlink" title="所有机器依次执行"></a>所有机器依次执行</h4><p>执行过程中需要输入密码，就输入对应密码即可。</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">ssh 127.0.0.1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/wps9.jpg" alt="img"></p><h4 id="在Node01创建秘钥"><a href="#在Node01创建秘钥" class="headerlink" title="在Node01创建秘钥"></a>在Node01创建秘钥</h4><p>下面的命令一行一行的运行，运行过程中如果要输入密码，输入即可。</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">ssh-keygen -t rsa -P '' -f ~/.ssh/id_rsacat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keyschmod 0600 ~/.ssh/authorized_keys<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/wps10.jpg" alt="img"></p><h4 id="共享公钥"><a href="#共享公钥" class="headerlink" title="共享公钥"></a>共享公钥</h4><p>在node01将公钥推给另外节点，执行：</p><p>可能要输入密码，输入即可</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 ~]# ssh-copy-id -i node01[root@node01 ~]# ssh-copy-id -i node02[root@node01 ~]# ssh-copy-id -i node03<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h4><p>连的过程中有可能第一次需要输入密码，第二次再去ssh还是需要输入密码就有问题，</p><p>注意事项：一旦ssh连进去了之后一定要退出来，exit</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">ssh node02exit<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">ssh node03exit<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">ssh node04exit<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="共享hosts文件"><a href="#共享hosts文件" class="headerlink" title="共享hosts文件"></a>共享hosts文件</h3><p>把hosts文件分发给node02 node03 </p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 ~]# scp /etc/hosts root@node02:/etc/[root@node01 ~]# scp /etc/hosts root@node03:/etc/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="node01（主）安装Hadoop"><a href="#node01（主）安装Hadoop" class="headerlink" title="node01（主）安装Hadoop"></a>node01（主）安装Hadoop</h3><ol><li><p>上传</p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/1590044622284.png" alt="1590044622284"></p></li><li><p>解压</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 ~]# cd /usr/tools/[root@node01 local]# tar -zxvf hadoop-2.7.7.tar.gz -C /usr/local[root@node01 hadoop-2.7.7]# cd /usr/local/hadoop-2.7.7/share/[root@node01 share]# lsdoc  hadoop[root@node01 share]# rm -rf doc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>设置环境变量</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">vi /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>添加如下内容</p><pre class="line-numbers language-none"><code class="language-none"># Hadoopexport HADOOP_HOME=/usr/local/hadoop-2.7.7export PATH=$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>环境变量生效</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 ~]# source /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>测试验证</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 ~]# hadoop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>分发环境变量</p></li></ol><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 soft]# scp /etc/profile root@node02:/etc/[root@node01 soft]# scp /etc/profile root@node03:/etc/注意：记得到所有节点上执行source命令<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="配置Hadoop全分布式"><a href="#配置Hadoop全分布式" class="headerlink" title="配置Hadoop全分布式"></a>配置Hadoop全分布式</h3><h4 id="修改hadoop-env-sh"><a href="#修改hadoop-env-sh" class="headerlink" title="修改hadoop-env.sh"></a>修改hadoop-env.sh</h4><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305161336177.png" alt="image-20210305161336177"></p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">export JAVA_HOME=/usr/local/jdk1.8.0_221<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305160713081.png" alt="image-20210305160713081"></p><h4 id="修改core-site-xml"><a href="#修改core-site-xml" class="headerlink" title="修改core-site.xml"></a>修改core-site.xml</h4><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305161357980.png" alt="image-20210305161357980"></p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>fs.defaultFS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hdfs://node01:9000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hadoop.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/var/root/hadoop/full<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>说明：</p><ul><li><p>fs.defaultFS 文件系统对外提供的URI地址以供数据交互。</p></li><li><p>hadoop.tmp.dir是hadoop文件系统依赖的基础配置，很多路径都依赖它。如果hdfs-site.xml中不配置namenode 和datanode的存放位置，默认就放在这个路径下。</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305161052241.png" alt="image-20210305161052241"></p><h4 id="修改hdfs-site-xml"><a href="#修改hdfs-site-xml" class="headerlink" title="修改hdfs-site.xml"></a>修改hdfs-site.xml</h4><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305161422709.png" alt="image-20210305161422709"></p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.replication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.secondary.http-address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>node02:50090<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>说明：</p><ul><li>dfs.replication  副本数量</li><li>dfs.namenode.secondary.http-address  提供secondary namenode的节点和端口</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305161205537.png" alt="image-20210305161205537"></p><h4 id="修改slaves"><a href="#修改slaves" class="headerlink" title="修改slaves"></a>修改slaves</h4><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305161434494.png" alt="image-20210305161434494"></p><pre class="line-numbers language-none"><code class="language-none">node01node02node03<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305161256592.png" alt="image-20210305161256592"></p><h4 id="修改yarn-site-xml"><a href="#修改yarn-site-xml" class="headerlink" title="修改yarn-site.xml"></a>修改yarn-site.xml</h4><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305161538239.png" alt="image-20210305161538239"></p><p><img src="https://cdn.jsdelivr.net/gh/Tfeng233/blog-imgs/image-20210305161521741.png" alt="image-20210305161521741"></p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">&lt;configuration&gt;    &lt;property&gt;        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;        &lt;value&gt;node01&lt;/value&gt;    &lt;/property&gt;    &lt;property&gt;        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;    &lt;/property&gt;&lt;/configuration&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="分发hadoop到各节点"><a href="#分发hadoop到各节点" class="headerlink" title="分发hadoop到各节点"></a>分发hadoop到各节点</h4><pre class="line-numbers language-none"><code class="language-none">[root@node01 hadoop]# scp -r /usr/local/hadoop-2.7.7 root@node02:/usr/local[root@node01 hadoop]# scp -r /usr/local/hadoop-2.7.7 root@node03:/usr/local<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="格式化和启动"><a href="#格式化和启动" class="headerlink" title="格式化和启动"></a>格式化和启动</h4><ol><li><p>在Node01节点格式化操作</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 ~]# hdfs namenode -format<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>启动(只需要在主节点上启动，其他的不需要启动)</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 ~]# start-dfs.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>验证</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">[root@node01 ~]# jps7825 NameNode7865 DataNode8060 Jps[root@node02 local]# jps8737 Jps8603 DataNode8671 SecondaryNameNode[root@node03 ~]# jps8439 Jps8364 DataNode<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>登陆web地址（<a href="http://192.168.52.101:50070/%EF%BC%89%E6%A3%80%E6%B5%8B">http://192.168.52.101:50070/）检测</a></p></li></ol><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>Hadoop的全分布式搭建的过程：</p><ul><li><p>准备3台虚拟机</p></li><li><p>保证虚拟机网络、IP、主机名、防火墙</p></li><li><p>安装JDK </p></li><li><p>做etc  hosts文件设置</p></li><li><p>免秘钥登陆</p></li><li><p>安装Hadoop</p></li><li><p>上传包 解压</p></li><li><p>配置环境变量</p></li><li><p>让环境变量生效  验证</p></li><li><p>hadoop-env.xml   配置JAVA_HOME</p></li><li><p>core-site.xml  namenode</p></li><li><p>hdfs-site.xml</p></li><li><p>slaves  从节点</p></li><li><p>yarn-site.xml</p></li><li><p>分发Hadoop</p></li><li><p>格式化 hadoop  namenode  -format</p></li><li><p>启动  start-dfs.sh   stop-dfs.sh</p></li><li><p>检查 JPS</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 大数据 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
